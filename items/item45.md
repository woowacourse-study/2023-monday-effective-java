# [Item 45] 스트림은 주의해서 사용하라

- - - -

## 스트림이 추상화하는 핵심 개념

### 1. 무한한 값이 올 수 있는 순서가 있는 데이터의 모음

스트림은 lazy한 연산을 지원하기에 무한한 값을 표현할 수 있다.<br>
스트림은 최종연산이 오기 전까지 어떠한 동작도 하지 않는다.

```java
List<String> names=List.of("홍실","에단","디투","오리","에밀","모디");
final Stream<String> stringStream=names.stream()
        .map(name->{
        System.out.println(name);
        return"스터디 참여자"+name;
        });
```

최종연산이 오기전이기에,위 코드를 실행하더라도 아무런 값도 출력하지 않는다.<br>
스트림은 **최종연산이 오기전까지 함수를 저장하는 느낌의 역할**을 한다.<br><br>
그렇기에 무한스트림이 있을 수도 있다. 사실 여기서 무한 스트림이 가능하다는 사실이 중요한 것이 아니라, 최종연산이 오기전까지 연산이 지연된다는 사실이 중요하다.

### 2. 파이프라인은 원소들로 수행하는 연산 단계를 표현하는 개념

스트림 파이프 라인은 데이터 소스를 여러 중간 연산과 하나의 종단 연산으로 구성된다.

## 스트림 + 람다의 장단점

### 스트림 + 람다로 할 수 없는 일들

- 지역 변수를 수정하는 일 : <br>
  스트림 안의 람다는 스트림 밖의 변수를 수정하지 못 한다.<br>
  여기서 수정하지 못한다는 말은 대입이 불가능하단 이야기다.<br>
  jcf의 add, remove 메서드는 호출이 가능하다. <br>
- 중간에 return 또는 break로 반복의 흐름을 조절할 수 없다 또는 CheckedException을 던질 수 없다.<br>
  -> 사실 stream.takeWhile(Predicate<T>)를 이용해 break 와 같은 연산을 할 수 있다.

### 스트림 + 람다로 할 수 있는 일들

- 원소들을 mapping 한다. (Stream.map)
- 원소들을 필터링한다. (Stream.filter)
- 원소들을 하나의 연산을 사용해 결합한다. (더하기, 연결하기, 최솟값 구하기) <br>
  (IntStream.sum, Stream.reduce, IntStream.min)
- 원소들을 컬렉션에 모은다. (Stream.Collect)
- 원소들에서 특정 조건을 만족하는 원소를 찾는다. (Stream.findAny)

## 최종 결론

### 책에서 나온 최종 결론

**스트림과 반복 중 어느쪽이 나은지 확신하기 어렵다면 둘 다 해보고 더 나은 쪽을 선택하라....**

### 개인적인 결론
